---
title: 数据库设计 与 数据源管理
---

__当前系统的数据库方面的设计目前只有垂直拆分。__ 水平拆分也有考虑，不过暂未实现。

## ~~背景~~ 设计原因

~~在当前系统中，使用的数据库是 MongoDB , 并且，代码使用 Entity概念（对象实体数据，没有固定的字段，只是一条JSON），并且，基于OSGI 的 bundle 设计的 任意 module （模块代码），在 开发时，就确定了当前业务模块，会使用哪些entity .因此…………巴拉巴拉 写太多 与代码有关的描述，就会让 不能看代码的人 感觉看不懂，所以我决定重写着一段~~

任意 一个业务模块，所需要操作的 实体类，在 开发时 是已知的。

所以，在 模块启动时，声明当前 模块 所能操作的 所有 实体类。

初始化 一个域时，会 指定 当前 域的所有模块。

⬇重点⬇

所以，在 创建 一个域 的时候，就 会知道当前域 所有的业务 数据能操作的 实体类。

因此。下面才是重点。

__对 当前 域的 所有实体类 进行 数据源配置 __

也就是说，数据源的配置，是 针对 实体类的。


## 简介

* 在当前集群中，首先，根据 不同的业务来划分模块，模块不同，业务不同。模块的启动，可以向 当前 容器 注册 数据源。（只是注册数据源，并不是使用） 数据源 由 容器中的 数据源 管理 模块。

